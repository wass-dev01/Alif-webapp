<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">

  <!-- PWA Meta -->
  <meta name="theme-color" content="#050a14">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Alif">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="manifest" href="manifest.json">

  <!-- Apple Touch Icons -->
  <link rel="apple-touch-icon" href="icon-192.png">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300&family=Noto+Naskh+Arabic:wght@400;500;700&family=DM+Serif+Display:ital@0;1&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="style.css">
  <title>Alif ‚Äî ÿ£ŸàŸÇÿßÿ™ ÿßŸÑÿµŸÑÿßÿ©</title>
</head>
<body>

<!-- Background layers -->
<div class="bg-stars" id="bg-stars"></div>
<div class="bg-gradient"></div>
<div class="bg-pattern"></div>

<!-- App shell -->
<div class="app" id="app">

  <!-- ===== PRAYER TIMES TAB ===== -->
  <section class="tab-content active" id="tab-prayers">
    <header class="app-header">
      <div class="header-inner">
        <div class="logo-block">
          <span class="logo-arabic">ÿ£ŸÑŸÅ</span>
          <span class="logo-latin">ALIF</span>
        </div>
        <div class="header-right">
          <div class="location-pill" id="location-pill">
            <svg viewBox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>
            <span id="city-name">Localisation‚Ä¶</span>
          </div>
        </div>
      </div>
    </header>

    <div class="prayers-content">
      <!-- Hijri date -->
      <div class="hijri-block" id="hijri-block">
        <span class="hijri-ar" id="hijri-ar">‚Äî</span>
        <span class="hijri-fr" id="hijri-fr">‚Äî</span>
      </div>

      <!-- Next prayer hero -->
      <div class="next-hero" id="next-hero">
        <div class="next-label">Prochaine pri√®re</div>
        <div class="next-name-row">
          <span class="next-name-fr" id="next-name-fr">‚Äî</span>
          <span class="next-name-ar" id="next-name-ar">‚Äî</span>
        </div>
        <div class="countdown" id="countdown">
          <span class="cd-unit" id="cd-h">00</span><span class="cd-sep">:</span><span class="cd-unit" id="cd-m">00</span><span class="cd-sep">:</span><span class="cd-unit" id="cd-s">00</span>
        </div>
        <div class="progress-bar-wrap">
          <div class="progress-bar" id="progress-bar"></div>
        </div>
      </div>

      <!-- Notification banner -->
      <div class="notif-banner" id="notif-banner">
        <svg viewBox="0 0 24 24"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
        <span>Activez les notifications pour l'adhan. <button onclick="window.AlifApp.requestNotifPermission()" class="banner-btn">Activer</button></span>
        <button class="banner-close" onclick="document.getElementById('notif-banner').style.display='none'">‚úï</button>
      </div>

      <!-- Prayer cards -->
      <div class="prayer-cards" id="prayer-cards">
        <!-- Injected by JS -->
      </div>

      <!-- Loader -->
      <div class="loader" id="loader">
        <div class="loader-ring"></div>
        <span>Chargement des horaires‚Ä¶</span>
      </div>

      <!-- Error -->
      <div class="error-box" id="error-box" style="display:none">
        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
        <p id="error-msg">Une erreur est survenue.</p>
        <button onclick="window.AlifApp.init()">R√©essayer</button>
      </div>
    </div>
  </section>

  <!-- ===== RAMADAN TAB ===== -->
  <section class="tab-content" id="tab-ramadan">
    <header class="app-header">
      <div class="header-inner">
        <div class="logo-block">
          <span class="logo-arabic">ÿ±ŸÖÿ∂ÿßŸÜ</span>
          <span class="logo-latin">RAMADAN</span>
        </div>
      </div>
    </header>
    <div class="ramadan-content">
      <div class="ramadan-hero">
        <div class="ramadan-moon">üåô</div>
        <div class="ramadan-stats">
          <div class="stat-big" id="ram-count">0</div>
          <div class="stat-label">jours pri√©s ce Ramadan</div>
        </div>
        <div class="ramadan-bar-wrap">
          <div class="ramadan-bar" id="ram-bar"></div>
          <span class="ramadan-bar-label" id="ram-bar-label">0 / 30</span>
        </div>
      </div>

      <div class="ramadan-year-row">
        <button class="year-btn" onclick="window.AlifApp.ramadan.changeYear(-1)">‚Äπ</button>
        <span id="ram-year">2025</span>
        <button class="year-btn" onclick="window.AlifApp.ramadan.changeYear(1)">‚Ä∫</button>
      </div>

      <div class="ramadan-grid" id="ramadan-grid">
        <!-- 30 days injected by JS -->
      </div>

      <div class="ramadan-tip">
        <span class="tip-icon">‚ú®</span>
        Appuyez sur un jour pour marquer si vous avez pri√© toutes vos pri√®res.
      </div>
    </div>
  </section>

  <!-- ===== TASBIH TAB ===== -->
  <section class="tab-content" id="tab-tasbih">
    <header class="app-header">
      <div class="header-inner">
        <div class="logo-block">
          <span class="logo-arabic">ÿ™ÿ≥ÿ®Ÿäÿ≠</span>
          <span class="logo-latin">TASBIH</span>
        </div>
        <div class="header-right">
          <button class="icon-btn" onclick="window.AlifApp.tasbih.reset()" title="R√©initialiser">
            <svg viewBox="0 0 24 24"><path d="M17.65 6.35A7.958 7.958 0 0012 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0112 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
          </button>
        </div>
      </div>
    </header>

    <div class="tasbih-content">
      <!-- Dhikr selector -->
      <div class="dhikr-selector" id="dhikr-selector">
        <!-- Injected by JS -->
      </div>

      <!-- Counter circle -->
      <div class="tasbih-circle-wrap">
        <div class="tasbih-ring">
          <svg class="ring-svg" viewBox="0 0 200 200" id="ring-svg">
            <circle class="ring-bg" cx="100" cy="100" r="88"/>
            <circle class="ring-fill" cx="100" cy="100" r="88" id="ring-fill"/>
          </svg>
          <button class="tasbih-btn" id="tasbih-btn" onclick="window.AlifApp.tasbih.count()">
            <span class="tasbih-count" id="tasbih-count">0</span>
            <span class="tasbih-target" id="tasbih-target">/ 33</span>
          </button>
        </div>
      </div>

      <!-- Current dhikr text -->
      <div class="dhikr-display" id="dhikr-display">
        <span class="dhikr-ar" id="dhikr-ar">ÿ≥Ÿèÿ®Ÿíÿ≠ŸéÿßŸÜŸé ÿßŸÑŸÑŸéŸëŸáŸê</span>
        <span class="dhikr-fr" id="dhikr-fr">Gloire √† Allah</span>
      </div>

      <!-- Total -->
      <div class="tasbih-total-row">
        <span>Total session</span>
        <span class="tasbih-total" id="tasbih-total">0</span>
      </div>

      <!-- Rounds -->
      <div class="rounds-row" id="rounds-row"></div>
    </div>
  </section>

</div>

<!-- Bottom nav -->
<nav class="bottom-nav" id="bottom-nav">
  <button class="nav-btn active" data-tab="prayers" onclick="window.AlifApp.switchTab('prayers')">
    <span class="nav-icon">
      <svg viewBox="0 0 24 24"><path d="M6 2v6l2 2-2 2v6l6-3 6 3v-6l-2-2 2-2V2l-6 3-6-3zm6 12.3l-4 2V14l4-2 4 2v2.3l-4-2z"/></svg>
    </span>
    <span class="nav-label">Pri√®res</span>
  </button>
  <button class="nav-btn" data-tab="ramadan" onclick="window.AlifApp.switchTab('ramadan')">
    <span class="nav-icon">
      <svg viewBox="0 0 24 24"><path d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"/></svg>
    </span>
    <span class="nav-label">Ramadan</span>
  </button>
  <button class="nav-btn" data-tab="tasbih" onclick="window.AlifApp.switchTab('tasbih')">
    <span class="nav-icon">
      <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-12.5c-2.49 0-4.5 2.01-4.5 4.5s2.01 4.5 4.5 4.5 4.5-2.01 4.5-4.5-2.01-4.5-4.5-4.5zm0 5.5c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1z"/></svg>
    </span>
    <span class="nav-label">Tasbih</span>
  </button>
</nav>

<script src="app.js"></script>
</body>
</html>